# CRUD Quiz

Use the solution to this afternoon's Property Tracker lab to answer the following questions. Please write your answers under each question, push the file to GitHub, and submit in the usual way.

## MVP Questions

In our Property Tracker application:

Q1. Where are we instantiating instances of the `Property` class?

        found_property = Property.new(property_hash)

Q2. Where are we defining the SQL that enables us to save the ruby `Property` object into the database?

         Between the quotes after -- sql = "     "

Q3. In `console.rb`, which lines modify the database?

        Property.delete_all()
        property1.save()
        property2.save()
        property3.save()
        property1.delete()

Q4. Why do we not define the id of a `Property` object at the point we instantiate it (‘new it up’)?

        The id is auto-generated by the database as the primary key when the row is saved in the database and then passed back to Ruby

Q5. Where and how do we assign the id (that is generated by the database) to the ruby `Property` object?

        @id = db.exec_prepared("save", values)[0]["id"].to_i

        The id is returned to Ruby in a hash-type-thing -- [{},{},{}] -- and the id is stripped out of the first {} by [0]["id"] and then converted into an integer before assigning to @id

Q6. Why do we put a guard (an `if` clause) on the `@id` attribute in the constructor?

        This ensures only data is returned to Ruby which has an id, therefore no blank rows

Q7. Why are some of the CRUD actions represented by instance methods, and others by class methods?

        A method provides functionality to an Object. A class method provides functionality to a class itself, while an instance method provides functionality to one instance of a class

Q8. What type of data structure is returned by calls to `db.exec_prepared()`? In the `save` method, how do we access the id from the returned data structure?

        The id is returned to Ruby in a hash-type-thing -- [{},{},{}] -- and the id is stripped out of the first {} by [0]["id"] and then converted into an integer before assigning to @id        

Q9. Why do we use prepared statements when performing database operations?

        Using placeholders like $1, $2 etc prevents hackers injecting SQL into the front end to modify the backend database. The database is protected against SQL injection

## Extension Questions

Look at the `find_by_id` and `find_by_address` methods in the `Property` class.

Q10. What do they take in as their arguments?

        values = [id]       - find_by_id
        values = [address]  - find_by_address

Q11. What are their return values?

        The whole property object using the id or the address that the find functions searched for
